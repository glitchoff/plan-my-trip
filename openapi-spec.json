{
    "openapi": "3.0.3",
    "info": {
        "title": "Plan My Trip API",
        "description": "Complete API collection for the Plan My Trip application - Travel planning, train booking, flights, buses, and more",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:3000",
            "description": "Local Development Server"
        }
    ],
    "paths": {
        "/api/train": {
            "get": {
                "tags": [
                    "Train (ERail)"
                ],
                "summary": "Main Train API (ERail)",
                "description": "Get trains between stations, on specific date, or train route info using ERail data provider.",
                "operationId": "trainApi",
                "parameters": [
                    {
                        "name": "action",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "betweenStations",
                                "getTrainOn",
                                "getRoute"
                            ]
                        },
                        "description": "The action to perform"
                    },
                    {
                        "name": "from",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Source station code (e.g., NDLS, BCT)",
                        "example": "NDLS"
                    },
                    {
                        "name": "to",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Destination station code (e.g., BCT, NDLS)",
                        "example": "BCT"
                    },
                    {
                        "name": "date",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Date in DD-MM-YYYY format (only for getTrainOn)",
                        "example": "20-03-2026"
                    },
                    {
                        "name": "trainNo",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        },
                        "description": "5-digit train number (only for getRoute)",
                        "example": "12301"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response"
                    },
                    "400": {
                        "description": "Invalid action or missing parameters"
                    }
                }
            }
        },
        "/api/railradar/trains/between": {
            "get": {
                "tags": [
                    "RailRadar"
                ],
                "summary": "Trains Between Stations (RailRadar)",
                "description": "Find all trains running between two stations using RailRadar API.",
                "operationId": "railradarTrainsBetween",
                "security": [
                    {
                        "RailRadar_Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "from",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "example": "NDLS"
                    },
                    {
                        "name": "to",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "example": "BCT"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response"
                    }
                }
            }
        },
        "/api/railradar/search/trains": {
            "get": {
                "tags": [
                    "RailRadar"
                ],
                "summary": "Search Trains (RailRadar)",
                "description": "Search for Indian trains by number or name using RailRadar API.",
                "operationId": "railradarSearchTrains",
                "security": [
                    {
                        "RailRadar_Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "query",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "example": "rajdhani"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response"
                    }
                }
            }
        },
        "/api/railradar/trains/{trainNumber}": {
            "get": {
                "tags": [
                    "RailRadar"
                ],
                "summary": "Train Details (RailRadar)",
                "description": "Get comprehensive train data (static + live) using RailRadar API.",
                "operationId": "railradarTrainDetails",
                "security": [
                    {
                        "RailRadar_Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "trainNumber",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "example": "12301"
                    },
                    {
                        "name": "dataType",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "full",
                                "static",
                                "live"
                            ],
                            "default": "full"
                        }
                    },
                    {
                        "name": "journeyDate",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        },
                        "example": "2026-02-10"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response"
                    }
                }
            }
        },
        "/api/station/from-city": {
            "get": {
                "tags": [
                    "Station"
                ],
                "summary": "Search Stations by City",
                "operationId": "stationFromCity",
                "parameters": [
                    {
                        "name": "city",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "example": "Mumbai"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response"
                    }
                }
            }
        },
        "/api/ai": {
            "post": {
                "tags": [
                    "AI"
                ],
                "summary": "AI Station Search",
                "operationId": "aiStationSearch",
                "security": [
                    {
                        "NVIDIA_NIM_Auth": []
                    },
                    {
                        "RailRadar_Auth": []
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "prompt": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "prompt"
                                ]
                            },
                            "example": {
                                "prompt": "Find railway stations in Mumbai"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful response"
                    }
                }
            }
        },
        "/api/geocode": {
            "get": {
                "tags": [
                    "Geocoding"
                ],
                "summary": "Geocode API",
                "operationId": "geocode",
                "security": [
                    {
                        "Geoapify_Auth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "q",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        },
                        "example": "Connaught Place, Delhi"
                    },
                    {
                        "name": "type",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "search",
                                "reverse",
                                "autocomplete"
                            ]
                        },
                        "example": "search"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response"
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "NVIDIA_NIM_Auth": {
                "type": "http",
                "scheme": "bearer",
                "description": "NVIDIA NIM API Key"
            },
            "RailRadar_Auth": {
                "type": "apiKey",
                "in": "header",
                "name": "x-api-key",
                "description": "RailRadar API Key (Use variable {{RAILRADAR_API}})"
            },
            "Amadeus_Auth": {
                "type": "http",
                "scheme": "bearer",
                "description": "Amadeus Token (Handled server-side)"
            },
            "Geoapify_Auth": {
                "type": "apiKey",
                "in": "query",
                "name": "apiKey",
                "description": "Geoapify API Key (Use variable {{GEOCODING}})"
            }
        }
    }
}